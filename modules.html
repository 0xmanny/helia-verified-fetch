<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@helia/verified-fetch</title><meta name="description" content="Documentation for @helia/verified-fetch"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@helia/verified-fetch</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>@helia/verified-fetch</h2></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p><code>@helia/verified-fetch</code> provides a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">fetch</a>-like API for retrieving content from the <a href="https://ipfs.tech/">IPFS</a> network.</p>
<p>All content is retrieved in a <a href="https://www.techopedia.com/definition/trustless">trustless manner</a>, and the integrity of all bytes are verified by comparing hashes of the data. By default, CIDs are retrieved over HTTP from <a href="https://specs.ipfs.tech/http-gateways/trustless-gateway/">trustless gateways</a>.</p>
<p>This is a marked improvement over <code>fetch</code> which offers no such protections and is vulnerable to all sorts of attacks like <a href="https://owasp.org/www-community/attacks/Content_Spoofing">Content Spoofing</a>, <a href="https://en.wikipedia.org/wiki/DNS_hijacking">DNS Hijacking</a>, etc.</p>
<p>A <code>verifiedFetch</code> function is exported to get up and running quickly, and a <code>createVerifiedFetch</code> function is also available that allows customizing the underlying <a href="https://helia.io/">Helia</a> node for complete control over how content is retrieved.</p>
<p>Browser-cache-friendly <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response">Response</a> objects are returned which should be instantly familiar to web developers.</p>
<p>You may use any supported resource argument to fetch content:</p>
<ul>
<li><a href="https://multiformats.github.io/js-multiformats/classes/cid.CID.html">CID</a> instance</li>
<li>IPFS URL</li>
<li>IPNS URL</li>
</ul>
</div><div class="tsd-comment tsd-typography"><h4>Example: Getting started</h4><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">verifiedFetch</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/verified-fetch&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">resp</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">verifiedFetch</span><span class="hl-1">(</span><span class="hl-3">&#39;ipfs://bafy...&#39;</span><span class="hl-1">)</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">json</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">resp</span><span class="hl-1">.</span><span class="hl-6">json</span><span class="hl-1">()</span>
</code><button>Copy</button></pre>
<h4>Example: Using a CID instance to fetch JSON</h4><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">verifiedFetch</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/verified-fetch&#39;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">CID</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;multiformats/cid&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">cid</span><span class="hl-1"> = </span><span class="hl-5">CID</span><span class="hl-1">.</span><span class="hl-6">parse</span><span class="hl-1">(</span><span class="hl-3">&#39;bafyFoo&#39;</span><span class="hl-1">) </span><span class="hl-7">// some json file</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">response</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">verifiedFetch</span><span class="hl-1">(</span><span class="hl-2">cid</span><span class="hl-1">)</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">json</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">response</span><span class="hl-1">.</span><span class="hl-6">json</span><span class="hl-1">()</span>
</code><button>Copy</button></pre>
<h4>Example: Using IPFS protocol to fetch an image</h4><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">verifiedFetch</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/verified-fetch&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">response</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">verifiedFetch</span><span class="hl-1">(</span><span class="hl-3">&#39;ipfs://bafyFoo&#39;</span><span class="hl-1">) </span><span class="hl-7">// CID for some image file</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">blob</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">response</span><span class="hl-1">.</span><span class="hl-6">blob</span><span class="hl-1">()</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">image</span><span class="hl-1"> = </span><span class="hl-2">document</span><span class="hl-1">.</span><span class="hl-6">createElement</span><span class="hl-1">(</span><span class="hl-3">&#39;img&#39;</span><span class="hl-1">)</span><br/><span class="hl-2">image</span><span class="hl-1">.</span><span class="hl-2">src</span><span class="hl-1"> = </span><span class="hl-5">URL</span><span class="hl-1">.</span><span class="hl-6">createObjectURL</span><span class="hl-1">(</span><span class="hl-2">blob</span><span class="hl-1">)</span><br/><span class="hl-2">document</span><span class="hl-1">.</span><span class="hl-2">body</span><span class="hl-1">.</span><span class="hl-6">appendChild</span><span class="hl-1">(</span><span class="hl-2">image</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<h4>Example: Using IPNS protocol to stream a big file</h4><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">verifiedFetch</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/verified-fetch&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">response</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">verifiedFetch</span><span class="hl-1">(</span><span class="hl-3">&#39;ipns://mydomain.com/path/to/very-long-file.log&#39;</span><span class="hl-1">)</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">bigFileStreamReader</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">response</span><span class="hl-1">.</span><span class="hl-2">body</span><span class="hl-1">?.</span><span class="hl-6">getReader</span><span class="hl-1">()</span>
</code><button>Copy</button></pre>
<a id="md:configuration" class="tsd-anchor"></a><h2><a href="#md:configuration">Configuration</a></h2><a id="md:custom-http-gateways-and-routers" class="tsd-anchor"></a><h3><a href="#md:custom-http-gateways-and-routers">Custom HTTP gateways and routers</a></h3><p>Out of the box <code>@helia/verified-fetch</code> uses a default set of <a href="https://specs.ipfs.tech/http-gateways/trustless-gateway/">trustless gateways</a> for fetching blocks and <a href="https://specs.ipfs.tech/routing/http-routing-v1/">HTTP delegated routers</a> for performing routing tasks - looking up peers, resolving/publishing <a href="https://docs.ipfs.tech/concepts/ipns/">IPNS</a> names, etc.</p>
<p>It&#39;s possible to override these by passing <code>gateways</code> and <code>routers</code> keys to the <code>createVerifiedFetch</code> function:</p>
<h4>Example: Configuring gateways and routers</h4><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createVerifiedFetch</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/verified-fetch&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">fetch</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">createVerifiedFetch</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">gateways:</span><span class="hl-1"> [</span><span class="hl-3">&#39;https://trustless-gateway.link&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-2">routers:</span><span class="hl-1"> [</span><span class="hl-3">&#39;http://delegated-ipfs.dev&#39;</span><span class="hl-1">]</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">resp</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">fetch</span><span class="hl-1">(</span><span class="hl-3">&#39;ipfs://bafy...&#39;</span><span class="hl-1">)</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">json</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">resp</span><span class="hl-1">.</span><span class="hl-6">json</span><span class="hl-1">()</span>
</code><button>Copy</button></pre>
<a id="md:usage-with-customized-helia" class="tsd-anchor"></a><h3><a href="#md:usage-with-customized-helia">Usage with customized Helia</a></h3><p>For full control of how <code>@helia/verified-fetch</code> fetches content from the distributed web you can pass a preconfigured Helia node to <code>createVerifiedFetch</code>.</p>
<p>The <a href="https://www.npmjs.com/package/helia">helia</a> module is configured with a libp2p node that is suited for decentralized applications, alternatively <a href="https://www.npmjs.com/package/@helia/http">@helia/http</a> is available which uses HTTP gateways for all network operations.</p>
<p>You can see variations of Helia and js-libp2p configuration options at <a href="https://helia.io/interfaces/helia.index.HeliaInit.html">https://helia.io/interfaces/helia.index.HeliaInit.html</a>.</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">trustlessGateway</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/block-brokers&#39;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createHeliaHTTP</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/http&#39;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">delegatedHTTPRouting</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/routers&#39;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createVerifiedFetch</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/verified-fetch&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">fetch</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">createVerifiedFetch</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">createHeliaHTTP</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-2">blockBrokers:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-6">trustlessGateway</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-2">gateways:</span><span class="hl-1"> [</span><span class="hl-3">&#39;https://mygateway.example.net&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;https://trustless-gateway.link&#39;</span><span class="hl-1">]</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-2">routers:</span><span class="hl-1"> [</span><span class="hl-3">&#39;http://delegated-ipfs.dev&#39;</span><span class="hl-1">].</span><span class="hl-6">map</span><span class="hl-1">((</span><span class="hl-2">routerUrl</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">delegatedHTTPRouting</span><span class="hl-1">(</span><span class="hl-2">routerUrl</span><span class="hl-1">))</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">)</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">resp</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">fetch</span><span class="hl-1">(</span><span class="hl-3">&#39;ipfs://bafy...&#39;</span><span class="hl-1">)</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">json</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">resp</span><span class="hl-1">.</span><span class="hl-6">json</span><span class="hl-1">()</span>
</code><button>Copy</button></pre>
<a id="md:custom-content-type-parsing" class="tsd-anchor"></a><h3><a href="#md:custom-content-type-parsing">Custom content-type parsing</a></h3><p>By default, if the response can be parsed as JSON, <code>@helia/verified-fetch</code> sets the <code>Content-Type</code> header as <code>application/json</code>, otherwise it sets it as <code>application/octet-stream</code> - this is because the <code>.json()</code>, <code>.text()</code>, <code>.blob()</code>, and <code>.arrayBuffer()</code> methods will usually work as expected without a detailed content type.</p>
<p>If you require an accurate content-type you can provide a <code>contentTypeParser</code> function as an option to <code>createVerifiedFetch</code> to handle parsing the content type.</p>
<p>The function you provide will be called with the first chunk of bytes from the file and should return a string or a promise of a string.</p>
<h4>Example: Customizing content-type parsing</h4><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createVerifiedFetch</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/verified-fetch&#39;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">fileTypeFromBuffer</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@sgtpooki/file-type&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">fetch</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">createVerifiedFetch</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">gateways:</span><span class="hl-1"> [</span><span class="hl-3">&#39;https://trustless-gateway.link&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-2">routers:</span><span class="hl-1"> [</span><span class="hl-3">&#39;http://delegated-ipfs.dev&#39;</span><span class="hl-1">]</span><br/><span class="hl-1">}, {</span><br/><span class="hl-1">  </span><span class="hl-6">contentTypeParser</span><span class="hl-2">:</span><span class="hl-1"> </span><span class="hl-4">async</span><span class="hl-1"> (</span><span class="hl-2">bytes</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">// call to some magic-byte recognition library like magic-bytes, file-type, or your own custom byte recognition</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">fileTypeFromBuffer</span><span class="hl-1">(</span><span class="hl-2">bytes</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">result</span><span class="hl-1">?.</span><span class="hl-2">mime</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">})</span>
</code><button>Copy</button></pre>
<a id="md:custom-dns-resolvers" class="tsd-anchor"></a><h3><a href="#md:custom-dns-resolvers">Custom DNS resolvers</a></h3><p>If you don&#39;t want to leak DNS queries to the default resolvers, you can provide your own list of DNS resolvers to <code>createVerifiedFetch</code>.</p>
<p>Note that you do not need to provide both a DNS-over-HTTPS and a DNS-over-JSON resolver, and you should prefer <code>dnsJsonOverHttps</code> resolvers for usage in the browser for a smaller bundle size. See <a href="https://github.com/ipfs/helia/tree/main/packages/ipns#example---using-dns-json-over-https">https://github.com/ipfs/helia/tree/main/packages/ipns#example---using-dns-json-over-https</a> for more information.</p>
<h4>Example: Customizing DNS resolvers</h4><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createVerifiedFetch</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/verified-fetch&#39;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">dnsJsonOverHttps</span><span class="hl-1">, </span><span class="hl-2">dnsOverHttps</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/ipns/dns-resolvers&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">fetch</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">createVerifiedFetch</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">gateways:</span><span class="hl-1"> [</span><span class="hl-3">&#39;https://trustless-gateway.link&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-2">routers:</span><span class="hl-1"> [</span><span class="hl-3">&#39;http://delegated-ipfs.dev&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-2">dnsResolvers:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-6">dnsJsonOverHttps</span><span class="hl-1">(</span><span class="hl-3">&#39;https://my-dns-resolver.example.com/dns-json&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-6">dnsOverHttps</span><span class="hl-1">(</span><span class="hl-3">&#39;https://my-dns-resolver.example.com/dns-query&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">})</span>
</code><button>Copy</button></pre>
<a id="md:ipld-codec-handling" class="tsd-anchor"></a><h3><a href="#md:ipld-codec-handling">IPLD codec handling</a></h3><p>IPFS supports several data formats (typically referred to as codecs) which are included in the CID. <code>@helia/verified-fetch</code> attempts to abstract away some of the details for easier consumption.</p>
<a id="md:dag-pb" class="tsd-anchor"></a><h4><a href="#md:dag-pb">DAG-PB</a></h4><p><a href="https://ipld.io/docs/codecs/known/dag-pb/">DAG-PB</a> is the codec we are most likely to encounter, it is what <a href="https://github.com/ipfs/specs/blob/main/UNIXFS.md">UnixFS</a> uses under the hood.</p>
<a id="md:using-the-dag-pb-codec-as-a-blob" class="tsd-anchor"></a><h5><a href="#md:using-the-dag-pb-codec-as-a-blob">Using the DAG-PB codec as a Blob</a></h5><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">verifiedFetch</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/verified-fetch&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">res</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">verifiedFetch</span><span class="hl-1">(</span><span class="hl-3">&#39;ipfs://Qmfoo&#39;</span><span class="hl-1">)</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">blob</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">res</span><span class="hl-1">.</span><span class="hl-6">blob</span><span class="hl-1">()</span><br/><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">info</span><span class="hl-1">(</span><span class="hl-2">blob</span><span class="hl-1">) </span><span class="hl-7">// Blob { size: x, type: &#39;application/octet-stream&#39; }</span>
</code><button>Copy</button></pre>
<a id="md:using-the-dag-pb-codec-as-an-arraybuffer" class="tsd-anchor"></a><h5><a href="#md:using-the-dag-pb-codec-as-an-arraybuffer">Using the DAG-PB codec as an ArrayBuffer</a></h5><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">verifiedFetch</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/verified-fetch&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">res</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">verifiedFetch</span><span class="hl-1">(</span><span class="hl-3">&#39;ipfs://Qmfoo&#39;</span><span class="hl-1">)</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">buf</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">res</span><span class="hl-1">.</span><span class="hl-6">arrayBuffer</span><span class="hl-1">()</span><br/><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">info</span><span class="hl-1">(</span><span class="hl-2">buf</span><span class="hl-1">) </span><span class="hl-7">// ArrayBuffer { [Uint8Contents]: &lt; ... &gt;, byteLength: x }</span>
</code><button>Copy</button></pre>
<a id="md:using-the-dag-pb-codec-as-a-stream" class="tsd-anchor"></a><h5><a href="#md:using-the-dag-pb-codec-as-a-stream">Using the DAG-PB codec as a stream</a></h5><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">verifiedFetch</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/verified-fetch&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">res</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">verifiedFetch</span><span class="hl-1">(</span><span class="hl-3">&#39;ipfs://Qmfoo&#39;</span><span class="hl-1">)</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">reader</span><span class="hl-1"> = </span><span class="hl-2">res</span><span class="hl-1">.</span><span class="hl-2">body</span><span class="hl-1">?.</span><span class="hl-6">getReader</span><span class="hl-1">()</span><br/><br/><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">reader</span><span class="hl-1"> == </span><span class="hl-4">null</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Error</span><span class="hl-1">(</span><span class="hl-3">&#39;Could not create reader from response body&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">while</span><span class="hl-1"> (</span><span class="hl-4">true</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">next</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">reader</span><span class="hl-1">.</span><span class="hl-6">read</span><span class="hl-1">()</span><br/><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">next</span><span class="hl-1">?.</span><span class="hl-2">done</span><span class="hl-1"> === </span><span class="hl-4">true</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">break</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">next</span><span class="hl-1">?.</span><span class="hl-2">value</span><span class="hl-1"> != </span><span class="hl-4">null</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">info</span><span class="hl-1">(</span><span class="hl-2">next</span><span class="hl-1">.</span><span class="hl-2">value</span><span class="hl-1">) </span><span class="hl-7">// Uint8Array(x) [ ... ]</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:content-type" class="tsd-anchor"></a><h5><a href="#md:content-type">Content-Type</a></h5><p>When fetching <code>DAG-PB</code> data, the content type will be set to <code>application/octet-stream</code> unless a custom content-type parser is configured.</p>
<a id="md:json" class="tsd-anchor"></a><h4><a href="#md:json">JSON</a></h4><p>The JSON codec is a very simple codec, a block parseable with this codec is a JSON string encoded into a <code>Uint8Array</code>.</p>
<a id="md:using-the-json-codec" class="tsd-anchor"></a><h5><a href="#md:using-the-json-codec">Using the JSON codec</a></h5><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-4">*</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-2">json</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;multiformats/codecs/json&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">block</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">TextEncoder</span><span class="hl-1">().</span><span class="hl-6">encode</span><span class="hl-1">(</span><span class="hl-3">&#39;{ &quot;hello&quot;: &quot;world&quot; }&#39;</span><span class="hl-1">)</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">obj</span><span class="hl-1"> = </span><span class="hl-2">json</span><span class="hl-1">.</span><span class="hl-6">decode</span><span class="hl-1">(</span><span class="hl-2">block</span><span class="hl-1">)</span><br/><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">info</span><span class="hl-1">(</span><span class="hl-2">obj</span><span class="hl-1">) </span><span class="hl-7">// { hello: &#39;world&#39; }</span>
</code><button>Copy</button></pre>
<a id="md:content-type-1" class="tsd-anchor"></a><h5><a href="#md:content-type-1">Content-Type</a></h5><p>When the <code>JSON</code> codec is encountered, the <code>Content-Type</code> header of the response will be set to <code>application/json</code>.</p>
<a id="md:dag-json" class="tsd-anchor"></a><h3><a href="#md:dag-json">DAG-JSON</a></h3><p><a href="https://ipld.io/docs/codecs/known/dag-json/">DAG-JSON</a> expands on the <code>JSON</code> codec, adding the ability to contain <a href="https://docs.ipfs.tech/concepts/content-addressing/">CID</a>s which act as links to other blocks, and byte arrays.</p>
<p><code>CID</code>s and byte arrays are represented using special object structures with a single <code>&quot;/&quot;</code> property.</p>
<p>Using <code>DAG-JSON</code> has two important caveats:</p>
<ol>
<li>Your <code>JSON</code> structure cannot contain an object with only a <code>&quot;/&quot;</code> property, as it will be interpreted as a special type.</li>
<li>Since <code>JSON</code> has no technical limit on number sizes, <code>DAG-JSON</code> also allows numbers larger than <code>Number.MAX_SAFE_INTEGER</code>. JavaScript requires use of <code>BigInt</code>s to represent numbers larger than this, and <code>JSON.parse</code> does not support them, so precision will be lost.</li>
</ol>
<p>Otherwise this codec follows the same rules as the <code>JSON</code> codec.</p>
<a id="md:using-the-dag-json-codec" class="tsd-anchor"></a><h5><a href="#md:using-the-dag-json-codec">Using the DAG-JSON codec</a></h5><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-4">*</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-2">dagJson</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@ipld/dag-json&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">block</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">TextEncoder</span><span class="hl-1">().</span><span class="hl-6">encode</span><span class="hl-1">(</span><span class="hl-3">`{</span><br/><span class="hl-3">  &quot;hello&quot;: &quot;world&quot;,</span><br/><span class="hl-3">  &quot;cid&quot;: {</span><br/><span class="hl-3">    &quot;/&quot;: &quot;baeaaac3imvwgy3zao5xxe3de&quot;</span><br/><span class="hl-3">  },</span><br/><span class="hl-3">  &quot;buf&quot;: {</span><br/><span class="hl-3">    &quot;/&quot;: {</span><br/><span class="hl-3">      &quot;bytes&quot;: &quot;AAECAwQ&quot;</span><br/><span class="hl-3">    }</span><br/><span class="hl-3">  }</span><br/><span class="hl-3">}`</span><span class="hl-1">)</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">obj</span><span class="hl-1"> = </span><span class="hl-2">dagJson</span><span class="hl-1">.</span><span class="hl-6">decode</span><span class="hl-1">(</span><span class="hl-2">block</span><span class="hl-1">)</span><br/><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">info</span><span class="hl-1">(</span><span class="hl-2">obj</span><span class="hl-1">)</span><br/><span class="hl-7">// {</span><br/><span class="hl-7">// hello: &#39;world&#39;,</span><br/><span class="hl-7">// cid: CID(baeaaac3imvwgy3zao5xxe3de),</span><br/><span class="hl-7">// buf: Uint8Array(5) [ 0, 1, 2, 3, 4 ]</span><br/><span class="hl-7">// }</span>
</code><button>Copy</button></pre>
<a id="md:content-type-2" class="tsd-anchor"></a><h5><a href="#md:content-type-2">Content-Type</a></h5><p>When the <code>DAG-JSON</code> codec is encountered in the requested CID, the <code>Content-Type</code> header of the response will be set to <code>application/json</code>.</p>
<p><code>DAG-JSON</code> data can be parsed from the response by using the <code>.json()</code> function, which will return <code>CID</code>s/byte arrays as plain <code>{ &quot;/&quot;: ... }</code> objects:</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">verifiedFetch</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/verified-fetch&#39;</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-4">*</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-2">dagJson</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@ipld/dag-json&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">res</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">verifiedFetch</span><span class="hl-1">(</span><span class="hl-3">&#39;ipfs://bafyDAGJSON&#39;</span><span class="hl-1">)</span><br/><br/><span class="hl-7">// either:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">obj</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">res</span><span class="hl-1">.</span><span class="hl-6">json</span><span class="hl-1">()</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">info</span><span class="hl-1">(</span><span class="hl-2">obj</span><span class="hl-1">.</span><span class="hl-2">cid</span><span class="hl-1">) </span><span class="hl-7">// { &quot;/&quot;: &quot;baeaaac3imvwgy3zao5xxe3de&quot; }</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">info</span><span class="hl-1">(</span><span class="hl-2">obj</span><span class="hl-1">.</span><span class="hl-2">buf</span><span class="hl-1">) </span><span class="hl-7">// { &quot;/&quot;: { &quot;bytes&quot;: &quot;AAECAwQ&quot; } }</span>
</code><button>Copy</button></pre>
<p>Alternatively, it can be decoded using the <code>@ipld/dag-json</code> module and the <code>.arrayBuffer()</code> method, in which case you will get <code>CID</code> objects and <code>Uint8Array</code>s:</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">verifiedFetch</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/verified-fetch&#39;</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-4">*</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-2">dagJson</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@ipld/dag-json&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">res</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">verifiedFetch</span><span class="hl-1">(</span><span class="hl-3">&#39;ipfs://bafyDAGJSON&#39;</span><span class="hl-1">)</span><br/><br/><span class="hl-7">// or:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">obj</span><span class="hl-1"> = </span><span class="hl-2">dagJson</span><span class="hl-1">.</span><span class="hl-6">decode</span><span class="hl-1">&lt;</span><span class="hl-8">any</span><span class="hl-1">&gt;(</span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">res</span><span class="hl-1">.</span><span class="hl-6">arrayBuffer</span><span class="hl-1">())</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">info</span><span class="hl-1">(</span><span class="hl-2">obj</span><span class="hl-1">.</span><span class="hl-2">cid</span><span class="hl-1">) </span><span class="hl-7">// CID(baeaaac3imvwgy3zao5xxe3de)</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">info</span><span class="hl-1">(</span><span class="hl-2">obj</span><span class="hl-1">.</span><span class="hl-2">buf</span><span class="hl-1">) </span><span class="hl-7">// Uint8Array(5) [ 0, 1, 2, 3, 4 ]</span>
</code><button>Copy</button></pre>
<a id="md:dag-cbor" class="tsd-anchor"></a><h4><a href="#md:dag-cbor">DAG-CBOR</a></h4><p><a href="https://ipld.io/docs/codecs/known/dag-cbor/">DAG-CBOR</a> uses the <a href="https://cbor.io/">Concise Binary Object Representation</a> format for serialization instead of JSON.</p>
<p>This supports more datatypes in a safer way than JSON and is smaller on the wire to boot so is usually preferable to JSON or DAG-JSON.</p>
<a id="md:content-type-3" class="tsd-anchor"></a><h5><a href="#md:content-type-3">Content-Type</a></h5><p>Not all data types supported by <code>DAG-CBOR</code> can be successfully turned into JSON and back into the same binary form.</p>
<p>When a decoded block can be round-tripped to JSON, the <code>Content-Type</code> will be set to <code>application/json</code>. In this case the <code>.json()</code> method on the <code>Response</code> object can be used to obtain an object representation of the response.</p>
<p>When it cannot, the <code>Content-Type</code> will be <code>application/octet-stream</code> - in this case the <code>@ipld/dag-json</code> module must be used to deserialize the return value from <code>.arrayBuffer()</code>.</p>
<a id="md:detecting-json-safe-dag-cbor" class="tsd-anchor"></a><h5><a href="#md:detecting-json-safe-dag-cbor">Detecting JSON-safe DAG-CBOR</a></h5><p>If the <code>Content-Type</code> header of the response is <code>application/json</code>, the <code>.json()</code> method may be used to access the response body in object form, otherwise the <code>.arrayBuffer()</code> method must be used to decode the raw bytes using the <code>@ipld/dag-cbor</code> module.</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">verifiedFetch</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/verified-fetch&#39;</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-4">*</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-2">dagCbor</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@ipld/dag-cbor&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">res</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">verifiedFetch</span><span class="hl-1">(</span><span class="hl-3">&#39;ipfs://bafyDagCborCID&#39;</span><span class="hl-1">)</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-2">obj</span><br/><br/><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">res</span><span class="hl-1">.</span><span class="hl-2">headers</span><span class="hl-1">.</span><span class="hl-6">get</span><span class="hl-1">(</span><span class="hl-3">&#39;Content-Type&#39;</span><span class="hl-1">) === </span><span class="hl-3">&#39;application/json&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-7">// DAG-CBOR data can be safely decoded as JSON</span><br/><span class="hl-1">  </span><span class="hl-2">obj</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">res</span><span class="hl-1">.</span><span class="hl-6">json</span><span class="hl-1">()</span><br/><span class="hl-1">} </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">// response contains non-JSON friendly data types</span><br/><span class="hl-1">  </span><span class="hl-2">obj</span><span class="hl-1"> = </span><span class="hl-2">dagCbor</span><span class="hl-1">.</span><span class="hl-6">decode</span><span class="hl-1">(</span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">res</span><span class="hl-1">.</span><span class="hl-6">arrayBuffer</span><span class="hl-1">())</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">info</span><span class="hl-1">(</span><span class="hl-2">obj</span><span class="hl-1">) </span><span class="hl-7">// ...</span>
</code><button>Copy</button></pre>
<a id="md:the-accept-header" class="tsd-anchor"></a><h2><a href="#md:the-accept-header">The <code>Accept</code> header</a></h2><p>The <code>Accept</code> header can be passed to override certain response processing, or to ensure that the final <code>Content-Type</code> of the response is the one that is expected.</p>
<p>If the final <code>Content-Type</code> does not match the <code>Accept</code> header, or if the content cannot be represented in the format dictated by the <code>Accept</code> header, or you have configured a custom content type parser, and that parser returns a value that isn&#39;t in the accept header, a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/406">406: Not Acceptable</a> response will be returned:</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">verifiedFetch</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/verified-fetch&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">res</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">verifiedFetch</span><span class="hl-1">(</span><span class="hl-3">&#39;ipfs://bafyJPEGImageCID&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-2">headers:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">accept:</span><span class="hl-1"> </span><span class="hl-3">&#39;image/png&#39;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">info</span><span class="hl-1">(</span><span class="hl-2">res</span><span class="hl-1">.</span><span class="hl-2">status</span><span class="hl-1">) </span><span class="hl-7">// 406 - the image was a JPEG but we specified PNG as the accept header</span>
</code><button>Copy</button></pre>
<p>It can also be used to skip processing the data from some formats such as <code>DAG-CBOR</code> if you wish to handle decoding it yourself:</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">verifiedFetch</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@helia/verified-fetch&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">res</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">verifiedFetch</span><span class="hl-1">(</span><span class="hl-3">&#39;ipfs://bafyDAGCBORCID&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-2">headers:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">accept:</span><span class="hl-1"> </span><span class="hl-3">&#39;application/octet-stream&#39;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">info</span><span class="hl-1">(</span><span class="hl-2">res</span><span class="hl-1">.</span><span class="hl-2">headers</span><span class="hl-1">.</span><span class="hl-6">get</span><span class="hl-1">(</span><span class="hl-3">&#39;accept&#39;</span><span class="hl-1">)) </span><span class="hl-7">// application/octet-stream</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">buf</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">res</span><span class="hl-1">.</span><span class="hl-6">arrayBuffer</span><span class="hl-1">() </span><span class="hl-7">// raw bytes, not processed as JSON</span>
</code><button>Copy</button></pre>
<a id="md:comparison-to-fetch" class="tsd-anchor"></a><h2><a href="#md:comparison-to-fetch">Comparison to fetch</a></h2><p>This module attempts to act as similarly to the <code>fetch()</code> API as possible.</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch">The <code>fetch()</code> API</a> takes two parameters:</p>
<ol>
<li>A <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch#resource">resource</a></li>
<li>An <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch#options">options object</a></li>
</ol>
<a id="md:resource-argument" class="tsd-anchor"></a><h3><a href="#md:resource-argument">Resource argument</a></h3><p>This library supports the following methods of fetching web3 content from IPFS:</p>
<ol>
<li>IPFS protocol: <code>ipfs://&lt;cidv0&gt;</code> &amp; <code>ipfs://&lt;cidv0&gt;</code></li>
<li>IPNS protocol: <code>ipns://&lt;peerId&gt;</code> &amp; <code>ipns://&lt;publicKey&gt;</code> &amp; <code>ipns://&lt;hostUri_Supporting_DnsLink_TxtRecords&gt;</code></li>
<li>CID instances: An actual CID instance <code>CID.parse(&#39;bafy...&#39;)</code></li>
</ol>
<p>As well as support for pathing &amp; params for items 1 &amp; 2 above according to <a href="https://specs.ipfs.tech/http-gateways/path-gateway">IPFS - Path Gateway Specification</a> &amp; <a href="https://specs.ipfs.tech/http-gateways/trustless-gateway/">IPFS - Trustless Gateway Specification</a>. Further refinement of those specifications specifically for web-based scenarios can be found in the <a href="https://github.com/ipfs/specs/pull/453">Web Pathing Specification IPIP</a>.</p>
<p>If you pass a CID instance, it assumes you want the content for that specific CID only, and does not support pathing or params for that CID.</p>
<a id="md:options-argument" class="tsd-anchor"></a><h3><a href="#md:options-argument">Options argument</a></h3><p>This library does not plan to support the exact Fetch API options object, as some of the arguments don&#39;t make sense. Instead, it will only support options necessary to meet <a href="https://specs.ipfs.tech/">IPFS specs</a> related to specifying the resultant shape of desired content.</p>
<p>Some of those header specifications are:</p>
<ol>
<li><a href="https://specs.ipfs.tech/http-gateways/path-gateway/#request-headers">https://specs.ipfs.tech/http-gateways/path-gateway/#request-headers</a></li>
<li><a href="https://specs.ipfs.tech/http-gateways/trustless-gateway/#request-headers">https://specs.ipfs.tech/http-gateways/trustless-gateway/#request-headers</a></li>
<li><a href="https://specs.ipfs.tech/http-gateways/subdomain-gateway/#request-headers">https://specs.ipfs.tech/http-gateways/subdomain-gateway/#request-headers</a></li>
</ol>
<p>Where possible, options and Helia internals will be automatically configured to the appropriate codec &amp; content type based on the <code>verified-fetch</code> configuration and <code>options</code> argument passed.</p>
<p>Known Fetch API options that will be supported:</p>
<ol>
<li><code>signal</code> - An AbortSignal that a user can use to abort the request.</li>
<li><code>redirect</code> - A string that specifies the redirect type. One of <code>follow</code>, <code>error</code>, or <code>manual</code>. Defaults to <code>follow</code>. Best effort to adhere to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch#redirect">Fetch API redirect</a> parameter.</li>
<li><code>headers</code> - An object of headers to be sent with the request. Best effort to adhere to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch#headers">Fetch API headers</a> parameter.<ul>
<li><code>accept</code> - A string that specifies the accept header. Relevant values:<ul>
<li><a href="https://www.iana.org/assignments/media-types/application/vnd.ipld.raw"><code>vnd.ipld.raw</code></a>. (default)</li>
<li><a href="https://www.iana.org/assignments/media-types/application/vnd.ipld.car"><code>vnd.ipld.car</code></a></li>
<li><a href="https://www.iana.org/assignments/media-types/application/vnd.ipfs.ipns-record"><code>vnd.ipfs.ipns-record</code></a></li>
</ul>
</li>
</ul>
</li>
<li><code>method</code> - A string that specifies the HTTP method to use for the request. Defaults to <code>GET</code>. Best effort to adhere to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch#method">Fetch API method</a> parameter.</li>
<li><code>body</code> - An object that specifies the body of the request. Best effort to adhere to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch#body">Fetch API body</a> parameter.</li>
<li><code>cache</code> - Will basically act as <code>force-cache</code> for the request. Best effort to adhere to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch#cache">Fetch API cache</a> parameter.</li>
</ol>
<p>Non-Fetch API options that will be supported:</p>
<ol>
<li><code>onProgress</code> - Similar to Helia <code>onProgress</code> options, this will be a function that will be called with a progress event. Supported progress events are:<ul>
<li><code>helia:verified-fetch:error</code> - An error occurred during the request.</li>
<li><code>helia:verified-fetch:request:start</code> - The request has been sent</li>
<li><code>helia:verified-fetch:request:complete</code> - The request has been sent</li>
<li><code>helia:verified-fetch:request:error</code> - An error occurred during the request.</li>
<li><code>helia:verified-fetch:request:abort</code> - The request was aborted prior to completion.</li>
<li><code>helia:verified-fetch:response:start</code> - The initial HTTP Response headers have been set, and response stream is started.</li>
<li><code>helia:verified-fetch:response:complete</code> - The response stream has completed.</li>
<li><code>helia:verified-fetch:response:error</code> - An error occurred while building the response.</li>
</ul>
</li>
</ol>
<p>Some in-flight specs (IPIPs) that will affect the options object this library supports in the future can be seen at <a href="https://specs.ipfs.tech/ipips">https://specs.ipfs.tech/ipips</a>, a subset are:</p>
<ol>
<li><a href="https://specs.ipfs.tech/ipips/ipip-0412/">IPIP-0412: Signaling Block Order in CARs on HTTP Gateways</a></li>
<li><a href="https://specs.ipfs.tech/ipips/ipip-0402/">IPIP-0402: Partial CAR Support on Trustless Gateways</a></li>
<li><a href="https://specs.ipfs.tech/ipips/ipip-0386/">IPIP-0386: Subdomain Gateway Interop with _redirects</a></li>
<li><a href="https://specs.ipfs.tech/ipips/ipip-0328/">IPIP-0328: JSON and CBOR Response Formats on HTTP Gateways</a></li>
<li><a href="https://specs.ipfs.tech/ipips/ipip-0288/">IPIP-0288: TAR Response Format on HTTP Gateways</a></li>
</ol>
<a id="md:response-types" class="tsd-anchor"></a><h3><a href="#md:response-types">Response types</a></h3><p>This library&#39;s purpose is to return reasonably representable content from IPFS. In other words, fetching content is intended for leaf-node content -- such as images/videos/audio &amp; other assets, or other IPLD content (with link) -- that can be represented by <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response#instance_methods">https://developer.mozilla.org/en-US/docs/Web/API/Response#instance_methods</a>. The content type you receive back will depend upon the CID you request as well as the <code>Accept</code> header value you provide.</p>
<p>All content we retrieve from the IPFS network is obtained via an AsyncIterable, and will be set as the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response/Response#body">body of the HTTP Response</a> via a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Streams_API/Using_readable_streams#consuming_a_fetch_as_a_stream"><code>ReadableStream</code></a> or other efficient method that avoids loading the entire response into memory or getting the entire response from the network before returning a response to the user.</p>
<p>If your content doesn&#39;t have a mime-type or an <a href="https://specs.ipfs.tech">IPFS spec</a>, this library will not support it, but you can use the <a href="https://github.com/ipfs/helia"><code>helia</code></a> library directly for those use cases. See <a href="#md:unsupported-response-types">Unsupported response types</a> for more information.</p>
<a id="md:handling-response-types" class="tsd-anchor"></a><h4><a href="#md:handling-response-types">Handling response types</a></h4><p>For handling responses we want to follow conventions/abstractions from Fetch API where possible:</p>
<ul>
<li>For JSON, assuming you abstract any differences between dag-json/dag-cbor/json/and json-file-on-unixfs, you would call <code>.json()</code> to get a JSON object.</li>
<li>For images (or other web-relevant asset) you want to add to the DOM, use <code>.blob()</code> or <code>.arrayBuffer()</code> to get the raw bytes.</li>
<li>For plain text in utf-8, you would call <code>.text()</code></li>
<li>For streaming response data, use something like <code>response.body.getReader()</code> to get a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Streams_API/Using_readable_streams#consuming_a_fetch_as_a_stream"><code>ReadableStream</code></a>.</li>
</ul>
<a id="md:unsupported-response-types" class="tsd-anchor"></a><h4><a href="#md:unsupported-response-types">Unsupported response types</a></h4><ul>
<li>Returning IPLD nodes or DAGs as JS objects is not supported, as there is no currently well-defined structure for representing this data in an <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response">HTTP Response</a>. Instead, users should request <code>aplication/vnd.ipld.car</code> or use the <a href="https://github.com/ipfs/helia"><code>helia</code></a> library directly for this use case.</li>
<li>Others? Open an issue or PR!</li>
</ul>
<a id="md:response-headers" class="tsd-anchor"></a><h3><a href="#md:response-headers">Response headers</a></h3><p>This library will set the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response">HTTP Response</a> headers to the appropriate values for the content type according to the appropriate <a href="https://specs.ipfs.tech/">IPFS Specifications</a>.</p>
<p>Some known header specifications:</p>
<ul>
<li><a href="https://specs.ipfs.tech/http-gateways/path-gateway/#response-headers">https://specs.ipfs.tech/http-gateways/path-gateway/#response-headers</a></li>
<li><a href="https://specs.ipfs.tech/http-gateways/trustless-gateway/#response-headers">https://specs.ipfs.tech/http-gateways/trustless-gateway/#response-headers</a></li>
<li><a href="https://specs.ipfs.tech/http-gateways/subdomain-gateway/#response-headers">https://specs.ipfs.tech/http-gateways/subdomain-gateway/#response-headers</a></li>
</ul>
<a id="md:possible-scenarios-that-could-cause-confusion" class="tsd-anchor"></a><h3><a href="#md:possible-scenarios-that-could-cause-confusion">Possible Scenarios that could cause confusion</a></h3><a id="md:attempting-to-fetch-the-cid-for-content-that-does-not-make-sense" class="tsd-anchor"></a><h4><a href="#md:attempting-to-fetch-the-cid-for-content-that-does-not-make-sense">Attempting to fetch the CID for content that does not make sense</a></h4><p>If you request <code>bafybeiaysi4s6lnjev27ln5icwm6tueaw2vdykrtjkwiphwekaywqhcjze</code>, which points to the root of the en.wikipedia.org mirror, a response object does not make sense.</p>
<a id="md:errors" class="tsd-anchor"></a><h3><a href="#md:errors">Errors</a></h3><p>Known Errors that can be thrown:</p>
<ol>
<li><code>TypeError</code> - If the resource argument is not a string, CID, or CID string.</li>
<li><code>TypeError</code> - If the options argument is passed and not an object.</li>
<li><code>TypeError</code> - If the options argument is passed and is malformed.</li>
<li><code>AbortError</code> - If the content request is aborted due to user aborting provided AbortSignal.</li>
</ol>
</div></section><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><h3 class="tsd-index-heading uppercase">Index</h3><section class="tsd-index-section"><h3 class="tsd-index-heading">Interfaces</h3><div class="tsd-index-list"><a href="interfaces/CIDDetail.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>CIDDetail</span></a>
<a href="interfaces/CIDDetailError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>CIDDetail<wbr/>Error</span></a>
<a href="interfaces/ContentTypeParser.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>Content<wbr/>Type<wbr/>Parser</span></a>
<a href="interfaces/CreateVerifiedFetchInit.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>Create<wbr/>Verified<wbr/>Fetch<wbr/>Init</span></a>
<a href="interfaces/CreateVerifiedFetchOptions.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>Create<wbr/>Verified<wbr/>Fetch<wbr/>Options</span></a>
<a href="interfaces/ResourceDetail.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>Resource<wbr/>Detail</span></a>
<a href="interfaces/VerifiedFetch.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>Verified<wbr/>Fetch</span></a>
<a href="interfaces/VerifiedFetchInit.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>Verified<wbr/>Fetch<wbr/>Init</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Type Aliases</h3><div class="tsd-index-list"><a href="types/BubbledProgressEvents.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-2097152"></use></svg><span>Bubbled<wbr/>Progress<wbr/>Events</span></a>
<a href="types/Resource.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-2097152"></use></svg><span>Resource</span></a>
<a href="types/VerifiedFetchProgressEvents.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-2097152"></use></svg><span>Verified<wbr/>Fetch<wbr/>Progress<wbr/>Events</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Functions</h3><div class="tsd-index-list"><a href="functions/createVerifiedFetch.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-64"></use></svg><span>create<wbr/>Verified<wbr/>Fetch</span></a>
<a href="functions/verifiedFetch-1.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-64"></use></svg><span>verified<wbr/>Fetch</span></a>
</div></section></section></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><ul><li><ul><li><a href="#md:configuration"><span>Configuration</span></a></li><li><ul><li><a href="#md:custom-http-gateways-and-routers"><span>Custom HTTP gateways and routers</span></a></li><li><ul><li><a href="#md:usage-with-customized-helia"><span>Usage with customized <wbr/>Helia</span></a></li><li><a href="#md:custom-content-type-parsing"><span>Custom content-<wbr/>type parsing</span></a></li><li><a href="#md:custom-dns-resolvers"><span>Custom DNS resolvers</span></a></li><li><a href="#md:ipld-codec-handling"><span>IPLD codec handling</span></a></li><li><ul><li><a href="#md:dag-pb"><span>DAG-<wbr/>PB</span></a></li><li><ul><li><a href="#md:using-the-dag-pb-codec-as-a-blob"><span>Using the DAG-<wbr/>PB codec as a <wbr/>Blob</span></a></li><li><a href="#md:using-the-dag-pb-codec-as-an-arraybuffer"><span>Using the DAG-<wbr/>PB codec as an <wbr/>Array<wbr/>Buffer</span></a></li><li><a href="#md:using-the-dag-pb-codec-as-a-stream"><span>Using the DAG-<wbr/>PB codec as a stream</span></a></li><li><a href="#md:content-type"><span>Content-<wbr/>Type</span></a></li></ul></li><li><a href="#md:json"><span>JSON</span></a></li><li><ul><li><a href="#md:using-the-json-codec"><span>Using the JSON codec</span></a></li><li><a href="#md:content-type-1"><span>Content-<wbr/>Type</span></a></li></ul></li></ul></li><li><a href="#md:dag-json"><span>DAG-<wbr/>JSON</span></a></li><li><ul><li><a href="#md:using-the-dag-json-codec"><span>Using the DAG-<wbr/>JSON codec</span></a></li><li><ul><li><a href="#md:content-type-2"><span>Content-<wbr/>Type</span></a></li></ul></li><li><a href="#md:dag-cbor"><span>DAG-<wbr/>CBOR</span></a></li><li><ul><li><a href="#md:content-type-3"><span>Content-<wbr/>Type</span></a></li><li><a href="#md:detecting-json-safe-dag-cbor"><span>Detecting JSON-<wbr/>safe DAG-<wbr/>CBOR</span></a></li></ul></li></ul></li></ul></li><li><a href="#md:the-accept-header"><span>The <wbr/>Accept header</span></a></li><li><a href="#md:comparison-to-fetch"><span>Comparison to fetch</span></a></li><li><ul><li><a href="#md:resource-argument"><span>Resource argument</span></a></li><li><a href="#md:options-argument"><span>Options argument</span></a></li><li><a href="#md:response-types"><span>Response types</span></a></li><li><ul><li><a href="#md:handling-response-types"><span>Handling response types</span></a></li><li><a href="#md:unsupported-response-types"><span>Unsupported response types</span></a></li></ul></li><li><a href="#md:response-headers"><span>Response headers</span></a></li><li><a href="#md:possible-scenarios-that-could-cause-confusion"><span>Possible <wbr/>Scenarios that could cause confusion</span></a></li><li><ul><li><a href="#md:attempting-to-fetch-the-cid-for-content-that-does-not-make-sense"><span>Attempting to fetch the CID for content that does not make sense</span></a></li></ul></li><li><a href="#md:errors"><span>Errors</span></a></li></ul></li></ul></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-1"></use></svg><span>@helia/verified-fetch</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li><a href="interfaces/CIDDetail.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg>CIDDetail</a></li><li><a href="interfaces/CIDDetailError.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg>CIDDetailError</a></li><li><a href="interfaces/ContentTypeParser.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg>ContentTypeParser</a></li><li><a href="interfaces/CreateVerifiedFetchInit.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg>CreateVerifiedFetchInit</a></li><li><a href="interfaces/CreateVerifiedFetchOptions.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg>CreateVerifiedFetchOptions</a></li><li><a href="interfaces/ResourceDetail.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg>ResourceDetail</a></li><li><a href="interfaces/VerifiedFetch.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg>VerifiedFetch</a></li><li><a href="interfaces/VerifiedFetchInit.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg>VerifiedFetchInit</a></li><li><a href="types/BubbledProgressEvents.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-2097152"></use></svg>BubbledProgressEvents</a></li><li><a href="types/Resource.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-2097152"></use></svg>Resource</a></li><li><a href="types/VerifiedFetchProgressEvents.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-2097152"></use></svg>VerifiedFetchProgressEvents</a></li><li><a href="functions/createVerifiedFetch.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-64"></use></svg>createVerifiedFetch</a></li><li><a href="functions/verifiedFetch-1.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-64"></use></svg>verifiedFetch</a></li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><svg style="display: none"><g id="icon-1"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-module)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.162 16V7.24H10.578L11.514 10.072C11.602 10.328 11.674 10.584 11.73 10.84C11.794 11.088 11.842 11.28 11.874 11.416C11.906 11.28 11.954 11.088 12.018 10.84C12.082 10.584 12.154 10.324 12.234 10.06L13.122 7.24H14.538V16H13.482V12.82C13.482 12.468 13.49 12.068 13.506 11.62C13.53 11.172 13.558 10.716 13.59 10.252C13.622 9.78 13.654 9.332 13.686 8.908C13.726 8.476 13.762 8.1 13.794 7.78L12.366 12.16H11.334L9.894 7.78C9.934 8.092 9.97 8.456 10.002 8.872C10.042 9.28 10.078 9.716 10.11 10.18C10.142 10.636 10.166 11.092 10.182 11.548C10.206 12.004 10.218 12.428 10.218 12.82V16H9.162Z" fill="var(--color-text)"></path></g><g id="icon-2"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-module)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.162 16V7.24H10.578L11.514 10.072C11.602 10.328 11.674 10.584 11.73 10.84C11.794 11.088 11.842 11.28 11.874 11.416C11.906 11.28 11.954 11.088 12.018 10.84C12.082 10.584 12.154 10.324 12.234 10.06L13.122 7.24H14.538V16H13.482V12.82C13.482 12.468 13.49 12.068 13.506 11.62C13.53 11.172 13.558 10.716 13.59 10.252C13.622 9.78 13.654 9.332 13.686 8.908C13.726 8.476 13.762 8.1 13.794 7.78L12.366 12.16H11.334L9.894 7.78C9.934 8.092 9.97 8.456 10.002 8.872C10.042 9.28 10.078 9.716 10.11 10.18C10.142 10.636 10.166 11.092 10.182 11.548C10.206 12.004 10.218 12.428 10.218 12.82V16H9.162Z" fill="var(--color-text)"></path></g><g id="icon-4"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-namespace)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.33 16V7.24H10.77L13.446 14.74C13.43 14.54 13.41 14.296 13.386 14.008C13.37 13.712 13.354 13.404 13.338 13.084C13.33 12.756 13.326 12.448 13.326 12.16V7.24H14.37V16H12.93L10.266 8.5C10.282 8.692 10.298 8.936 10.314 9.232C10.33 9.52 10.342 9.828 10.35 10.156C10.366 10.476 10.374 10.784 10.374 11.08V16H9.33Z" fill="var(--color-text)"></path></g><g id="icon-8"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-enum)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.45 16V7.24H14.49V8.224H10.518V10.936H14.07V11.908H10.518V15.016H14.49V16H9.45Z" fill="var(--color-text)"></path></g><g id="icon-16"><rect fill="var(--color-icon-background)" stroke="#FF984D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M9.354 16V7.24H12.174C12.99 7.24 13.638 7.476 14.118 7.948C14.606 8.412 14.85 9.036 14.85 9.82C14.85 10.604 14.606 11.232 14.118 11.704C13.638 12.168 12.99 12.4 12.174 12.4H10.434V16H9.354ZM10.434 11.428H12.174C12.646 11.428 13.022 11.284 13.302 10.996C13.59 10.7 13.734 10.308 13.734 9.82C13.734 9.324 13.59 8.932 13.302 8.644C13.022 8.356 12.646 8.212 12.174 8.212H10.434V11.428Z" fill="var(--color-text)"></path></g><g id="icon-32"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-variable)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M11.106 16L8.85 7.24H9.966L11.454 13.192C11.558 13.608 11.646 13.996 11.718 14.356C11.79 14.708 11.842 14.976 11.874 15.16C11.906 14.976 11.954 14.708 12.018 14.356C12.09 13.996 12.178 13.608 12.282 13.192L13.758 7.24H14.85L12.582 16H11.106Z" fill="var(--color-text)"></path></g><g id="icon-64"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-function)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.39 16V7.24H14.55V8.224H10.446V11.128H14.238V12.112H10.47V16H9.39Z" fill="var(--color-text)"></path></g><g id="icon-128"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-class)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M11.898 16.1201C11.098 16.1201 10.466 15.8961 10.002 15.4481C9.53803 15.0001 9.30603 14.3841 9.30603 13.6001V9.64012C9.30603 8.85612 9.53803 8.24012 10.002 7.79212C10.466 7.34412 11.098 7.12012 11.898 7.12012C12.682 7.12012 13.306 7.34812 13.77 7.80412C14.234 8.25212 14.466 8.86412 14.466 9.64012H13.386C13.386 9.14412 13.254 8.76412 12.99 8.50012C12.734 8.22812 12.37 8.09212 11.898 8.09212C11.426 8.09212 11.054 8.22412 10.782 8.48812C10.518 8.75212 10.386 9.13212 10.386 9.62812V13.6001C10.386 14.0961 10.518 14.4801 10.782 14.7521C11.054 15.0161 11.426 15.1481 11.898 15.1481C12.37 15.1481 12.734 15.0161 12.99 14.7521C13.254 14.4801 13.386 14.0961 13.386 13.6001H14.466C14.466 14.3761 14.234 14.9921 13.77 15.4481C13.306 15.8961 12.682 16.1201 11.898 16.1201Z" fill="var(--color-text)"></path></g><g id="icon-256"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-interface)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.51 16V15.016H11.298V8.224H9.51V7.24H14.19V8.224H12.402V15.016H14.19V16H9.51Z" fill="var(--color-text)"></path></g><g id="icon-512"><rect fill="var(--color-icon-background)" stroke="#4D7FFF" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M11.898 16.1201C11.098 16.1201 10.466 15.8961 10.002 15.4481C9.53803 15.0001 9.30603 14.3841 9.30603 13.6001V9.64012C9.30603 8.85612 9.53803 8.24012 10.002 7.79212C10.466 7.34412 11.098 7.12012 11.898 7.12012C12.682 7.12012 13.306 7.34812 13.77 7.80412C14.234 8.25212 14.466 8.86412 14.466 9.64012H13.386C13.386 9.14412 13.254 8.76412 12.99 8.50012C12.734 8.22812 12.37 8.09212 11.898 8.09212C11.426 8.09212 11.054 8.22412 10.782 8.48812C10.518 8.75212 10.386 9.13212 10.386 9.62812V13.6001C10.386 14.0961 10.518 14.4801 10.782 14.7521C11.054 15.0161 11.426 15.1481 11.898 15.1481C12.37 15.1481 12.734 15.0161 12.99 14.7521C13.254 14.4801 13.386 14.0961 13.386 13.6001H14.466C14.466 14.3761 14.234 14.9921 13.77 15.4481C13.306 15.8961 12.682 16.1201 11.898 16.1201Z" fill="var(--color-text)"></path></g><g id="icon-1024"><rect fill="var(--color-icon-background)" stroke="#FF984D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M9.354 16V7.24H12.174C12.99 7.24 13.638 7.476 14.118 7.948C14.606 8.412 14.85 9.036 14.85 9.82C14.85 10.604 14.606 11.232 14.118 11.704C13.638 12.168 12.99 12.4 12.174 12.4H10.434V16H9.354ZM10.434 11.428H12.174C12.646 11.428 13.022 11.284 13.302 10.996C13.59 10.7 13.734 10.308 13.734 9.82C13.734 9.324 13.59 8.932 13.302 8.644C13.022 8.356 12.646 8.212 12.174 8.212H10.434V11.428Z" fill="var(--color-text)"></path></g><g id="icon-2048"><rect fill="var(--color-icon-background)" stroke="#FF4DB8" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M9.162 16V7.24H10.578L11.514 10.072C11.602 10.328 11.674 10.584 11.73 10.84C11.794 11.088 11.842 11.28 11.874 11.416C11.906 11.28 11.954 11.088 12.018 10.84C12.082 10.584 12.154 10.324 12.234 10.06L13.122 7.24H14.538V16H13.482V12.82C13.482 12.468 13.49 12.068 13.506 11.62C13.53 11.172 13.558 10.716 13.59 10.252C13.622 9.78 13.654 9.332 13.686 8.908C13.726 8.476 13.762 8.1 13.794 7.78L12.366 12.16H11.334L9.894 7.78C9.934 8.092 9.97 8.456 10.002 8.872C10.042 9.28 10.078 9.716 10.11 10.18C10.142 10.636 10.166 11.092 10.182 11.548C10.206 12.004 10.218 12.428 10.218 12.82V16H9.162Z" fill="var(--color-text)"></path></g><g id="icon-4096"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-function)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.39 16V7.24H14.55V8.224H10.446V11.128H14.238V12.112H10.47V16H9.39Z" fill="var(--color-text)"></path></g><g id="icon-8192"><rect fill="var(--color-icon-background)" stroke="#FF984D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M9.354 16V7.24H12.174C12.99 7.24 13.638 7.476 14.118 7.948C14.606 8.412 14.85 9.036 14.85 9.82C14.85 10.604 14.606 11.232 14.118 11.704C13.638 12.168 12.99 12.4 12.174 12.4H10.434V16H9.354ZM10.434 11.428H12.174C12.646 11.428 13.022 11.284 13.302 10.996C13.59 10.7 13.734 10.308 13.734 9.82C13.734 9.324 13.59 8.932 13.302 8.644C13.022 8.356 12.646 8.212 12.174 8.212H10.434V11.428Z" fill="var(--color-text)"></path></g><g id="icon-16384"><rect fill="var(--color-icon-background)" stroke="#4D7FFF" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M11.898 16.1201C11.098 16.1201 10.466 15.8961 10.002 15.4481C9.53803 15.0001 9.30603 14.3841 9.30603 13.6001V9.64012C9.30603 8.85612 9.53803 8.24012 10.002 7.79212C10.466 7.34412 11.098 7.12012 11.898 7.12012C12.682 7.12012 13.306 7.34812 13.77 7.80412C14.234 8.25212 14.466 8.86412 14.466 9.64012H13.386C13.386 9.14412 13.254 8.76412 12.99 8.50012C12.734 8.22812 12.37 8.09212 11.898 8.09212C11.426 8.09212 11.054 8.22412 10.782 8.48812C10.518 8.75212 10.386 9.13212 10.386 9.62812V13.6001C10.386 14.0961 10.518 14.4801 10.782 14.7521C11.054 15.0161 11.426 15.1481 11.898 15.1481C12.37 15.1481 12.734 15.0161 12.99 14.7521C13.254 14.4801 13.386 14.0961 13.386 13.6001H14.466C14.466 14.3761 14.234 14.9921 13.77 15.4481C13.306 15.8961 12.682 16.1201 11.898 16.1201Z" fill="var(--color-text)"></path></g><g id="icon-32768"><rect fill="var(--color-icon-background)" stroke="#FF984D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M9.354 16V7.24H12.174C12.99 7.24 13.638 7.476 14.118 7.948C14.606 8.412 14.85 9.036 14.85 9.82C14.85 10.604 14.606 11.232 14.118 11.704C13.638 12.168 12.99 12.4 12.174 12.4H10.434V16H9.354ZM10.434 11.428H12.174C12.646 11.428 13.022 11.284 13.302 10.996C13.59 10.7 13.734 10.308 13.734 9.82C13.734 9.324 13.59 8.932 13.302 8.644C13.022 8.356 12.646 8.212 12.174 8.212H10.434V11.428Z" fill="var(--color-text)"></path></g><g id="icon-65536"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-type-alias)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M11.31 16V8.224H8.91V7.24H14.79V8.224H12.39V16H11.31Z" fill="var(--color-text)"></path></g><g id="icon-131072"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-type-alias)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M11.31 16V8.224H8.91V7.24H14.79V8.224H12.39V16H11.31Z" fill="var(--color-text)"></path></g><g id="icon-262144"><rect fill="var(--color-icon-background)" stroke="#FF4D4D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M8.85 16L11.13 7.24H12.582L14.85 16H13.758L13.182 13.672H10.53L9.954 16H8.85ZM10.746 12.76H12.954L12.282 10.06C12.154 9.548 12.054 9.12 11.982 8.776C11.91 8.432 11.866 8.208 11.85 8.104C11.834 8.208 11.79 8.432 11.718 8.776C11.646 9.12 11.546 9.544 11.418 10.048L10.746 12.76Z" fill="var(--color-text)"></path></g><g id="icon-524288"><rect fill="var(--color-icon-background)" stroke="#FF4D4D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M8.85 16L11.13 7.24H12.582L14.85 16H13.758L13.182 13.672H10.53L9.954 16H8.85ZM10.746 12.76H12.954L12.282 10.06C12.154 9.548 12.054 9.12 11.982 8.776C11.91 8.432 11.866 8.208 11.85 8.104C11.834 8.208 11.79 8.432 11.718 8.776C11.646 9.12 11.546 9.544 11.418 10.048L10.746 12.76Z" fill="var(--color-text)"></path></g><g id="icon-1048576"><rect fill="var(--color-icon-background)" stroke="#FF4D4D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M8.85 16L11.13 7.24H12.582L14.85 16H13.758L13.182 13.672H10.53L9.954 16H8.85ZM10.746 12.76H12.954L12.282 10.06C12.154 9.548 12.054 9.12 11.982 8.776C11.91 8.432 11.866 8.208 11.85 8.104C11.834 8.208 11.79 8.432 11.718 8.776C11.646 9.12 11.546 9.544 11.418 10.048L10.746 12.76Z" fill="var(--color-text)"></path></g><g id="icon-2097152"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-type-alias)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M11.31 16V8.224H8.91V7.24H14.79V8.224H12.39V16H11.31Z" fill="var(--color-text)"></path></g><g id="icon-4194304"><rect fill="var(--color-icon-background)" stroke="#FF4D82" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M10.354 17V8.24H13.066C13.586 8.24 14.042 8.348 14.434 8.564C14.826 8.772 15.13 9.064 15.346 9.44C15.562 9.816 15.67 10.256 15.67 10.76C15.67 11.352 15.514 11.86 15.202 12.284C14.898 12.708 14.482 13 13.954 13.16L15.79 17H14.518L12.838 13.28H11.434V17H10.354ZM11.434 12.308H13.066C13.514 12.308 13.874 12.168 14.146 11.888C14.418 11.6 14.554 11.224 14.554 10.76C14.554 10.288 14.418 9.912 14.146 9.632C13.874 9.352 13.514 9.212 13.066 9.212H11.434V12.308Z" fill="var(--color-text)"></path></g><g id="icon-chevronDown"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></g><g id="icon-chevronSmall"><path d="M1.5 5.50969L8 11.6609L14.5 5.50969L12.5466 3.66086L8 7.96494L3.45341 3.66086L1.5 5.50969Z" fill="var(--color-text)"></path></g><g id="icon-menu"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></g><g id="icon-search"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></g><g id="icon-anchor"><g stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></g></g></svg></body></html>